/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package projeto.vendas.view;

import java.awt.Color;
import java.awt.Image;
import java.awt.Toolkit;
import java.net.URL;
import java.sql.Date;
import java.text.DecimalFormat;
import java.text.NumberFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.GregorianCalendar;
import java.util.HashMap;
import java.util.Map;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import net.sf.jasperreports.engine.JRException;
import net.sf.jasperreports.engine.JasperFillManager;
import net.sf.jasperreports.engine.JasperPrint;
import net.sf.jasperreports.view.JasperViewer;
import projeto.vendas.control.Conexao;
import projeto.vendas.control.DaoEmitirNotaFiscal;
import projeto.vendas.control.DaoGerarPedido;
import projeto.vendas.control.DaoNotaFiscalItens;
import projeto.vendas.control.DaoPFisica;
import projeto.vendas.control.DaoPJuridica;
import projeto.vendas.control.DaoPedidoProduto;
import projeto.vendas.control.DaoProduto;
import projeto.vendas.model.Login;
import projeto.vendas.model.NotaFiscal;
import projeto.vendas.model.NotaFiscalItens;
import projeto.vendas.model.Pedido;
import projeto.vendas.model.PedidoProduto;
import projeto.vendas.model.PessoaFisica;
import projeto.vendas.model.PessoaJuridica;
import projeto.vendas.model.Produto;

/**
 *
 * @author Cleiton
 */
public class GuiEmitir_nota_fiscal extends javax.swing.JFrame {

    /**
     * Creates new form GuiEmitir_nota_fiscal
     */
    public GuiEmitir_nota_fiscal(Pedido pPedido, Login login, DefaultTableModel tabela) {
        initComponents();
        recebePedido = pPedido;
        this.login = login;
        tbl_pedidosAprovados = tabela;
        GuiEmitir_nota_fiscal.this.setTitle("Emitir Nota Fiscal   " + "Usuário:  " + login.getNome()
                + "         " + "Codigo:  " + login.getCodigo());

        URL caminhoIcone = getClass().getResource("/projeto/vendas/model/icones/logotipo.png");
        Image iconeTitulo = Toolkit.getDefaultToolkit().getImage(caminhoIcone);
        this.setIconImage(iconeTitulo);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        jPanelNota_Fiscal = new javax.swing.JPanel();
        jPanelTipo_nota = new javax.swing.JPanel();
        rbtnSaida = new javax.swing.JRadioButton();
        rbtnEntrada = new javax.swing.JRadioButton();
        jPanelNatureza_da_Operacao = new javax.swing.JPanel();
        lblCFOP = new javax.swing.JLabel();
        cbxCFOP = new javax.swing.JComboBox<>();
        lbl_Descricao_CFOP = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        btnVoltar = new javax.swing.JButton();
        btnImprimir = new javax.swing.JButton();
        btnGerar_NF = new javax.swing.JButton();
        jPanelDescricao_Nota_Fiscal = new javax.swing.JTabbedPane();
        jPanelDados_Emitente = new javax.swing.JPanel();
        lblEmpresa_Emitente = new javax.swing.JLabel();
        cbxEmpresa_Emitente = new javax.swing.JComboBox<>();
        lblCNPJ_Emitente = new javax.swing.JLabel();
        ftxtCNPJ_Emitente = new javax.swing.JFormattedTextField();
        jPanelEndereco_Emitente = new javax.swing.JPanel();
        lblRua_Emitente = new javax.swing.JLabel();
        txtRua_Emitente = new javax.swing.JTextField();
        lblNumero_Emitente = new javax.swing.JLabel();
        txtNumero_Emitente = new javax.swing.JTextField();
        lblComplemento_Emitente = new javax.swing.JLabel();
        txtComplemento_Emitente = new javax.swing.JTextField();
        lblBairro_Emitente = new javax.swing.JLabel();
        txtBairro_Emitente = new javax.swing.JTextField();
        lblCEP_Emitente = new javax.swing.JLabel();
        ftxtCEP_Emitente = new javax.swing.JFormattedTextField();
        lblCidade_Emitente = new javax.swing.JLabel();
        txtCidade_Emitente = new javax.swing.JTextField();
        lblUF_Emitente = new javax.swing.JLabel();
        txtUF_Emitente = new javax.swing.JTextField();
        lblLogo = new javax.swing.JLabel();
        jPanelRemetente = new javax.swing.JPanel();
        jPanelDados_Remetente = new javax.swing.JPanel();
        lblNome_Fantasia_Remetente = new javax.swing.JLabel();
        txt_NomeDestinario = new javax.swing.JTextField();
        lblTelefone_Remetente = new javax.swing.JLabel();
        ftxtTelefone_Remetente = new javax.swing.JFormattedTextField();
        lblEmail_Remetente = new javax.swing.JLabel();
        txtEmail_Remetente = new javax.swing.JTextField();
        jPanelEndereco_Remetente = new javax.swing.JPanel();
        lblRua_Remetente = new javax.swing.JLabel();
        txtRua_Remetente = new javax.swing.JTextField();
        lblNumero_Remetente = new javax.swing.JLabel();
        txtNumero_Remetente = new javax.swing.JTextField();
        lblComplemento_Remetente = new javax.swing.JLabel();
        txtComplemento_Remetente = new javax.swing.JTextField();
        lblBairro_Remetente = new javax.swing.JLabel();
        txtBairro_Remetente = new javax.swing.JTextField();
        lblCEP_Remetente = new javax.swing.JLabel();
        ftxtCEP_Remetente = new javax.swing.JFormattedTextField();
        lblCidade_Remetente = new javax.swing.JLabel();
        txtCidade_Remetente = new javax.swing.JTextField();
        lblUF_Remetente = new javax.swing.JLabel();
        txtUF_Remetente = new javax.swing.JTextField();
        lbl_documento = new javax.swing.JLabel();
        lblEmpresa = new javax.swing.JLabel();
        jPanelTransportadora = new javax.swing.JPanel();
        jComboBox1 = new javax.swing.JComboBox<>();
        jLabel1 = new javax.swing.JLabel();
        jComboBox2 = new javax.swing.JComboBox<>();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        ftxtValor_Frete = new javax.swing.JFormattedTextField();
        jPanelProdutos = new javax.swing.JPanel();
        jScrollPaneProduto = new javax.swing.JScrollPane();
        tblProduto = new javax.swing.JTable();
        txtValor_Total_Nota = new javax.swing.JTextField();
        lblValor_Total_Nota = new javax.swing.JLabel();
        lblTotal_Produtos = new javax.swing.JLabel();
        txtTotal_Produtos = new javax.swing.JTextField();
        txtTotal_Impostos = new javax.swing.JTextField();
        lblTotal_Produtos1 = new javax.swing.JLabel();
        txtTotal_Desc_Produto = new javax.swing.JTextField();
        lblTotal_desc_Produto = new javax.swing.JLabel();
        lblBase_Calculo_ICMS = new javax.swing.JLabel();
        txtBase_Calculo_ICMS = new javax.swing.JTextField();
        lblValor_ICMS = new javax.swing.JLabel();
        txtValor_ICMS = new javax.swing.JTextField();
        txtValor_IPI = new javax.swing.JTextField();
        lblValor_IPI = new javax.swing.JLabel();
        lblValor_COFINS = new javax.swing.JLabel();
        txtValor_COFINS = new javax.swing.JTextField();
        txtValor_PIS = new javax.swing.JTextField();
        lblValor_PIS = new javax.swing.JLabel();
        jPanelDados_Nota_Fiscal = new javax.swing.JPanel();
        lblSerie_Nota_Fiscal = new javax.swing.JLabel();
        txtSerie_Nota_Fiscal = new javax.swing.JTextField();
        lblNumero_Nota_Fiscal = new javax.swing.JLabel();
        txtNumero_Nota_Fiscal = new javax.swing.JTextField();
        lblData_Emissao = new javax.swing.JLabel();
        ftxtData_Emissao = new javax.swing.JFormattedTextField();
        lblHora_Emissao = new javax.swing.JLabel();
        ftxtHora_Emissao = new javax.swing.JFormattedTextField();
        jPanelSaida = new javax.swing.JPanel();
        lblData_Saida = new javax.swing.JLabel();
        ftxtData_Saida = new javax.swing.JFormattedTextField();
        lblHora_Saida = new javax.swing.JLabel();
        ftxtHora_Saida = new javax.swing.JFormattedTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Emitir Nota Fiscal");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        jPanelTipo_nota.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Tipo da Nota", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N

        buttonGroup1.add(rbtnSaida);
        rbtnSaida.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        rbtnSaida.setSelected(true);
        rbtnSaida.setText("Saída");

        buttonGroup1.add(rbtnEntrada);
        rbtnEntrada.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        rbtnEntrada.setText("Entrada");
        rbtnEntrada.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rbtnEntradaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelTipo_notaLayout = new javax.swing.GroupLayout(jPanelTipo_nota);
        jPanelTipo_nota.setLayout(jPanelTipo_notaLayout);
        jPanelTipo_notaLayout.setHorizontalGroup(
            jPanelTipo_notaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelTipo_notaLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(rbtnSaida)
                .addGap(18, 18, 18)
                .addComponent(rbtnEntrada)
                .addContainerGap(16, Short.MAX_VALUE))
        );
        jPanelTipo_notaLayout.setVerticalGroup(
            jPanelTipo_notaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelTipo_notaLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanelTipo_notaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rbtnSaida)
                    .addComponent(rbtnEntrada))
                .addGap(16, 16, 16))
        );

        jPanelNatureza_da_Operacao.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Natureza da Operação", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N

        lblCFOP.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCFOP.setText("CFOP");

        cbxCFOP.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "5101", "5102", "5910", "5911", "5915", "5949" }));
        cbxCFOP.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cbxCFOPItemStateChanged(evt);
            }
        });

        lbl_Descricao_CFOP.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N

        jButton1.setText("jButton1");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelNatureza_da_OperacaoLayout = new javax.swing.GroupLayout(jPanelNatureza_da_Operacao);
        jPanelNatureza_da_Operacao.setLayout(jPanelNatureza_da_OperacaoLayout);
        jPanelNatureza_da_OperacaoLayout.setHorizontalGroup(
            jPanelNatureza_da_OperacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNatureza_da_OperacaoLayout.createSequentialGroup()
                .addGroup(jPanelNatureza_da_OperacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblCFOP)
                    .addGroup(jPanelNatureza_da_OperacaoLayout.createSequentialGroup()
                        .addComponent(cbxCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 177, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(77, 77, 77)
                        .addComponent(jButton1)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(lbl_Descricao_CFOP, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanelNatureza_da_OperacaoLayout.setVerticalGroup(
            jPanelNatureza_da_OperacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNatureza_da_OperacaoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lblCFOP)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelNatureza_da_OperacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cbxCFOP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbl_Descricao_CFOP, javax.swing.GroupLayout.PREFERRED_SIZE, 19, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(16, Short.MAX_VALUE))
        );

        btnVoltar.setFont(new java.awt.Font("Times New Roman", 3, 12)); // NOI18N
        btnVoltar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/projeto/vendas/model/icones/Voltar.png"))); // NOI18N
        btnVoltar.setText("Voltar");
        btnVoltar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVoltarActionPerformed(evt);
            }
        });

        btnImprimir.setFont(new java.awt.Font("Times New Roman", 3, 12)); // NOI18N
        btnImprimir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/projeto/vendas/model/icones/Imprimir.png"))); // NOI18N
        btnImprimir.setText("Imprimir");
        btnImprimir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnImprimirActionPerformed(evt);
            }
        });

        btnGerar_NF.setFont(new java.awt.Font("Times New Roman", 3, 12)); // NOI18N
        btnGerar_NF.setIcon(new javax.swing.ImageIcon(getClass().getResource("/projeto/vendas/model/icones/Nota Fiscal.png"))); // NOI18N
        btnGerar_NF.setText("Gerar NF-e");
        btnGerar_NF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGerar_NFActionPerformed(evt);
            }
        });

        jPanelDescricao_Nota_Fiscal.setFont(new java.awt.Font("Times New Roman", 3, 12)); // NOI18N

        lblEmpresa_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblEmpresa_Emitente.setText("Empresa de Emissão");

        cbxEmpresa_Emitente.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Pet Happy" }));

        lblCNPJ_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCNPJ_Emitente.setText("CNPJ");

        try {
            ftxtCNPJ_Emitente.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##.###.###/####-##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtCNPJ_Emitente.setText("50.000.000/0000-01");

        jPanelEndereco_Emitente.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Endereço", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N
        jPanelEndereco_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N

        lblRua_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblRua_Emitente.setText("Rua");

        txtRua_Emitente.setText("Santiago Idalgo Ruiz");

        lblNumero_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblNumero_Emitente.setText("Número");

        txtNumero_Emitente.setText("69");
        txtNumero_Emitente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtNumero_EmitenteActionPerformed(evt);
            }
        });

        lblComplemento_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblComplemento_Emitente.setText("Complemento");

        txtComplemento_Emitente.setText("Não Existe");

        lblBairro_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblBairro_Emitente.setText("Bairro");

        txtBairro_Emitente.setText("Jardim Maria Antonia Prado");

        lblCEP_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCEP_Emitente.setText("CEP");

        try {
            ftxtCEP_Emitente.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##.###-###")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtCEP_Emitente.setText("18.076-120");

        lblCidade_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCidade_Emitente.setText("Cidade");

        txtCidade_Emitente.setText("Sorocaba");

        lblUF_Emitente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblUF_Emitente.setText("UF");

        txtUF_Emitente.setText("SP");

        javax.swing.GroupLayout jPanelEndereco_EmitenteLayout = new javax.swing.GroupLayout(jPanelEndereco_Emitente);
        jPanelEndereco_Emitente.setLayout(jPanelEndereco_EmitenteLayout);
        jPanelEndereco_EmitenteLayout.setHorizontalGroup(
            jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEndereco_EmitenteLayout.createSequentialGroup()
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelEndereco_EmitenteLayout.createSequentialGroup()
                        .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(txtBairro_Emitente, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 196, Short.MAX_VALUE)
                                .addComponent(txtRua_Emitente, javax.swing.GroupLayout.Alignment.LEADING))
                            .addComponent(lblBairro_Emitente))
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblCEP_Emitente)
                            .addComponent(ftxtCEP_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(lblNumero_Emitente, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 50, Short.MAX_VALUE)
                                .addComponent(txtNumero_Emitente, javax.swing.GroupLayout.Alignment.LEADING))))
                    .addComponent(lblRua_Emitente))
                .addGap(85, 85, 85)
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtComplemento_Emitente)
                    .addComponent(txtCidade_Emitente, javax.swing.GroupLayout.DEFAULT_SIZE, 154, Short.MAX_VALUE)
                    .addComponent(lblComplemento_Emitente)
                    .addComponent(lblCidade_Emitente))
                .addGap(25, 25, 25))
            .addGroup(jPanelEndereco_EmitenteLayout.createSequentialGroup()
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblUF_Emitente)
                    .addComponent(txtUF_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanelEndereco_EmitenteLayout.setVerticalGroup(
            jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEndereco_EmitenteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblRua_Emitente)
                    .addComponent(lblNumero_Emitente)
                    .addComponent(lblComplemento_Emitente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtRua_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNumero_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtComplemento_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblBairro_Emitente)
                    .addComponent(lblCEP_Emitente)
                    .addComponent(lblCidade_Emitente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtBairro_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtCEP_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtCidade_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 13, Short.MAX_VALUE)
                .addComponent(lblUF_Emitente)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txtUF_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        lblLogo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/projeto/vendas/model/icones/logo.png"))); // NOI18N

        javax.swing.GroupLayout jPanelDados_EmitenteLayout = new javax.swing.GroupLayout(jPanelDados_Emitente);
        jPanelDados_Emitente.setLayout(jPanelDados_EmitenteLayout);
        jPanelDados_EmitenteLayout.setHorizontalGroup(
            jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelDados_EmitenteLayout.createSequentialGroup()
                .addComponent(lblLogo, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelDados_EmitenteLayout.createSequentialGroup()
                        .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblEmpresa_Emitente)
                            .addComponent(cbxEmpresa_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(62, 62, 62)
                        .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblCNPJ_Emitente)
                            .addComponent(ftxtCNPJ_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jPanelEndereco_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanelDados_EmitenteLayout.setVerticalGroup(
            jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelDados_EmitenteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblEmpresa_Emitente)
                    .addComponent(lblCNPJ_Emitente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cbxEmpresa_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtCNPJ_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanelDados_EmitenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanelEndereco_Emitente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblLogo, javax.swing.GroupLayout.PREFERRED_SIZE, 128, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(52, Short.MAX_VALUE))
        );

        jPanelDescricao_Nota_Fiscal.addTab("Remetente", jPanelDados_Emitente);

        lblNome_Fantasia_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblNome_Fantasia_Remetente.setText("Nome Fantasia");

        lblTelefone_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblTelefone_Remetente.setText("Telefone");

        try {
            ftxtTelefone_Remetente.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("(##)#####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtTelefone_Remetente.setText("");

        lblEmail_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblEmail_Remetente.setText("Email");

        jPanelEndereco_Remetente.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Endereço", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N

        lblRua_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblRua_Remetente.setText("Rua");

        lblNumero_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblNumero_Remetente.setText("Número");

        lblComplemento_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblComplemento_Remetente.setText("Complemento");

        lblBairro_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblBairro_Remetente.setText("Bairro");

        lblCEP_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCEP_Remetente.setText("CEP");

        try {
            ftxtCEP_Remetente.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##.###-###")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtCEP_Remetente.setText("");

        lblCidade_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblCidade_Remetente.setText("Cidade");

        lblUF_Remetente.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblUF_Remetente.setText("UF");

        lbl_documento.setText("jLabel1");

        javax.swing.GroupLayout jPanelEndereco_RemetenteLayout = new javax.swing.GroupLayout(jPanelEndereco_Remetente);
        jPanelEndereco_Remetente.setLayout(jPanelEndereco_RemetenteLayout);
        jPanelEndereco_RemetenteLayout.setHorizontalGroup(
            jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEndereco_RemetenteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelEndereco_RemetenteLayout.createSequentialGroup()
                        .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblRua_Remetente)
                            .addComponent(lblCidade_Remetente))
                        .addGap(322, 322, 322)
                        .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtNumero_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblNumero_Remetente)
                            .addComponent(lblCEP_Remetente)
                            .addComponent(ftxtCEP_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(txtUF_Remetente, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(lblUF_Remetente, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 23, Short.MAX_VALUE))))
                    .addGroup(jPanelEndereco_RemetenteLayout.createSequentialGroup()
                        .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtComplemento_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 255, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtCidade_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 196, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(txtRua_Remetente, javax.swing.GroupLayout.DEFAULT_SIZE, 315, Short.MAX_VALUE)
                                .addComponent(txtBairro_Remetente)
                                .addComponent(lblBairro_Remetente))
                            .addComponent(lblComplemento_Remetente))
                        .addGap(30, 30, 30)
                        .addComponent(lbl_documento)))
                .addGap(0, 111, Short.MAX_VALUE))
        );
        jPanelEndereco_RemetenteLayout.setVerticalGroup(
            jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEndereco_RemetenteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblRua_Remetente)
                    .addComponent(lblNumero_Remetente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtRua_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNumero_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblBairro_Remetente)
                    .addComponent(lblCEP_Remetente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtBairro_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtCEP_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblCidade_Remetente)
                    .addComponent(lblUF_Remetente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 8, Short.MAX_VALUE)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtCidade_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtUF_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelEndereco_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelEndereco_RemetenteLayout.createSequentialGroup()
                        .addComponent(lblComplemento_Remetente)
                        .addGap(5, 5, 5)
                        .addComponent(txtComplemento_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(lbl_documento))
                .addGap(12, 12, 12))
        );

        lblEmpresa.setIcon(new javax.swing.ImageIcon(getClass().getResource("/projeto/vendas/model/icones/Empresa.png"))); // NOI18N

        javax.swing.GroupLayout jPanelDados_RemetenteLayout = new javax.swing.GroupLayout(jPanelDados_Remetente);
        jPanelDados_Remetente.setLayout(jPanelDados_RemetenteLayout);
        jPanelDados_RemetenteLayout.setHorizontalGroup(
            jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelDados_RemetenteLayout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addComponent(lblEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelDados_RemetenteLayout.createSequentialGroup()
                        .addGap(17, 17, 17)
                        .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblNome_Fantasia_Remetente)
                            .addComponent(txt_NomeDestinario, javax.swing.GroupLayout.PREFERRED_SIZE, 195, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(22, 22, 22)
                        .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(ftxtTelefone_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblTelefone_Remetente))
                        .addGap(39, 39, 39)
                        .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblEmail_Remetente)
                            .addComponent(txtEmail_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, 195, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 2, Short.MAX_VALUE))
                    .addComponent(jPanelEndereco_Remetente, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanelDados_RemetenteLayout.setVerticalGroup(
            jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelDados_RemetenteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblTelefone_Remetente)
                    .addComponent(lblEmail_Remetente)
                    .addComponent(lblNome_Fantasia_Remetente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtEmail_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(ftxtTelefone_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txt_NomeDestinario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanelDados_RemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, 201, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanelEndereco_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(27, 27, 27))
        );

        javax.swing.GroupLayout jPanelRemetenteLayout = new javax.swing.GroupLayout(jPanelRemetente);
        jPanelRemetente.setLayout(jPanelRemetenteLayout);
        jPanelRemetenteLayout.setHorizontalGroup(
            jPanelRemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelRemetenteLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanelDados_Remetente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanelRemetenteLayout.setVerticalGroup(
            jPanelRemetenteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelRemetenteLayout.createSequentialGroup()
                .addComponent(jPanelDados_Remetente, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanelDescricao_Nota_Fiscal.addTab("Destinatário", jPanelRemetente);

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Emitente", "Destinatário" }));

        jLabel1.setText("Responsável");

        jComboBox2.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Pet Happy" }));

        jLabel2.setText("Empresa para Realizar o Serviço ");

        jLabel3.setText("Valor do Frete");

        ftxtValor_Frete.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0.00"))));
        ftxtValor_Frete.setText("0");
        ftxtValor_Frete.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                ftxtValor_FreteFocusLost(evt);
            }
        });

        javax.swing.GroupLayout jPanelTransportadoraLayout = new javax.swing.GroupLayout(jPanelTransportadora);
        jPanelTransportadora.setLayout(jPanelTransportadoraLayout);
        jPanelTransportadoraLayout.setHorizontalGroup(
            jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelTransportadoraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 96, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addGap(30, 30, 30)
                .addGroup(jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jComboBox2, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(46, 46, 46)
                .addGroup(jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(ftxtValor_Frete)
                    .addComponent(jLabel3))
                .addContainerGap(344, Short.MAX_VALUE))
        );
        jPanelTransportadoraLayout.setVerticalGroup(
            jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelTransportadoraLayout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addGroup(jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jLabel2)
                    .addComponent(jLabel3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelTransportadoraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtValor_Frete, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(268, Short.MAX_VALUE))
        );

        jPanelDescricao_Nota_Fiscal.addTab("Transporte/Frete", jPanelTransportadora);

        tblProduto.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null},
                {null, null, null, null, null, null, null, null, null}
            },
            new String [] {
                "Código", "Descrição", "Valor Unitário", "Quantidade", "Valor Total", "ICMS", "PIS", "COFINS", "IPI"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPaneProduto.setViewportView(tblProduto);
        if (tblProduto.getColumnModel().getColumnCount() > 0) {
            tblProduto.getColumnModel().getColumn(0).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(0).setMaxWidth(60);
            tblProduto.getColumnModel().getColumn(1).setMinWidth(200);
            tblProduto.getColumnModel().getColumn(1).setMaxWidth(200);
            tblProduto.getColumnModel().getColumn(2).setMinWidth(70);
            tblProduto.getColumnModel().getColumn(2).setMaxWidth(100);
            tblProduto.getColumnModel().getColumn(3).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(3).setMaxWidth(80);
            tblProduto.getColumnModel().getColumn(4).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(4).setMaxWidth(80);
            tblProduto.getColumnModel().getColumn(5).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(5).setMaxWidth(60);
            tblProduto.getColumnModel().getColumn(6).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(6).setMaxWidth(60);
            tblProduto.getColumnModel().getColumn(7).setMinWidth(60);
            tblProduto.getColumnModel().getColumn(7).setMaxWidth(60);
            tblProduto.getColumnModel().getColumn(8).setMinWidth(40);
            tblProduto.getColumnModel().getColumn(8).setMaxWidth(60);
        }

        txtValor_Total_Nota.setText("0");
        txtValor_Total_Nota.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtValor_Total_Nota.setEnabled(false);

        lblValor_Total_Nota.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblValor_Total_Nota.setText("Valor Total da Nota");

        lblTotal_Produtos.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblTotal_Produtos.setText("Total dos Produtos");

        txtTotal_Produtos.setText("0");
        txtTotal_Produtos.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTotal_Produtos.setEnabled(false);

        txtTotal_Impostos.setText("0");
        txtTotal_Impostos.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTotal_Impostos.setEnabled(false);

        lblTotal_Produtos1.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblTotal_Produtos1.setText("Total dos Impostos");

        txtTotal_Desc_Produto.setText("0");
        txtTotal_Desc_Produto.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTotal_Desc_Produto.setEnabled(false);

        lblTotal_desc_Produto.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblTotal_desc_Produto.setText("Valor do Desconto");

        lblBase_Calculo_ICMS.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblBase_Calculo_ICMS.setText("Base Calculo ICMS");

        txtBase_Calculo_ICMS.setText("0");
        txtBase_Calculo_ICMS.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtBase_Calculo_ICMS.setEnabled(false);

        lblValor_ICMS.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblValor_ICMS.setText("Valor ICMS");

        txtValor_ICMS.setText("0");
        txtValor_ICMS.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtValor_ICMS.setEnabled(false);
        txtValor_ICMS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtValor_ICMSActionPerformed(evt);
            }
        });

        txtValor_IPI.setText("0");
        txtValor_IPI.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtValor_IPI.setEnabled(false);

        lblValor_IPI.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblValor_IPI.setText("Valor IPI");

        lblValor_COFINS.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblValor_COFINS.setText("Valor COFINS");

        txtValor_COFINS.setText("0");
        txtValor_COFINS.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtValor_COFINS.setEnabled(false);

        txtValor_PIS.setText("0");
        txtValor_PIS.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtValor_PIS.setEnabled(false);

        lblValor_PIS.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblValor_PIS.setText("Valor PIS");

        javax.swing.GroupLayout jPanelProdutosLayout = new javax.swing.GroupLayout(jPanelProdutos);
        jPanelProdutos.setLayout(jPanelProdutosLayout);
        jPanelProdutosLayout.setHorizontalGroup(
            jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPaneProduto)
                    .addGroup(jPanelProdutosLayout.createSequentialGroup()
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(lblValor_Total_Nota, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(txtValor_Total_Nota, javax.swing.GroupLayout.Alignment.LEADING))
                            .addComponent(txtBase_Calculo_ICMS, javax.swing.GroupLayout.PREFERRED_SIZE, 104, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblBase_Calculo_ICMS))
                        .addGap(40, 40, 40)
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(txtValor_ICMS, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(lblTotal_Produtos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(txtTotal_Produtos)))
                            .addComponent(lblValor_ICMS))
                        .addGap(41, 41, 41)
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txtTotal_Impostos, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE)
                                    .addComponent(lblTotal_Produtos1)
                                    .addComponent(txtValor_IPI))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 29, Short.MAX_VALUE)
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtTotal_Desc_Produto, javax.swing.GroupLayout.PREFERRED_SIZE, 95, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblTotal_desc_Produto))
                                .addGap(40, 40, 40))
                            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                                .addComponent(lblValor_IPI)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(lblValor_COFINS)
                            .addComponent(txtValor_COFINS, javax.swing.GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                            .addComponent(lblValor_PIS)
                            .addComponent(txtValor_PIS))
                        .addContainerGap())))
        );
        jPanelProdutosLayout.setVerticalGroup(
            jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                .addComponent(jScrollPaneProduto, javax.swing.GroupLayout.PREFERRED_SIZE, 163, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelProdutosLayout.createSequentialGroup()
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelProdutosLayout.createSequentialGroup()
                                .addComponent(lblValor_COFINS)
                                .addGap(25, 25, 25))
                            .addComponent(txtValor_COFINS, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addComponent(lblValor_PIS)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtValor_PIS, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(jPanelProdutosLayout.createSequentialGroup()
                        .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                                .addComponent(lblValor_Total_Nota)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtValor_Total_Nota, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(11, 11, 11)
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblBase_Calculo_ICMS)
                                    .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(lblValor_ICMS)
                                        .addComponent(lblValor_IPI)))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(txtValor_IPI, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtValor_ICMS, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtBase_Calculo_ICMS, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanelProdutosLayout.createSequentialGroup()
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(lblTotal_Produtos)
                                    .addComponent(lblTotal_Produtos1)
                                    .addComponent(lblTotal_desc_Produto))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtTotal_Impostos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPanelProdutosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(txtTotal_Produtos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(txtTotal_Desc_Produto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                        .addContainerGap(45, Short.MAX_VALUE))))
        );

        jPanelDescricao_Nota_Fiscal.addTab("Produtos", jPanelProdutos);

        jPanelDados_Nota_Fiscal.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Dados da Nota Fiscal", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N
        jPanelDados_Nota_Fiscal.setFont(new java.awt.Font("Times New Roman", 3, 12)); // NOI18N

        lblSerie_Nota_Fiscal.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblSerie_Nota_Fiscal.setText("Série da Nota Fiscal");

        txtSerie_Nota_Fiscal.setText("001");
        txtSerie_Nota_Fiscal.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtSerie_Nota_Fiscal.setEnabled(false);

        lblNumero_Nota_Fiscal.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblNumero_Nota_Fiscal.setText("Número da Nota Fiscal");

        txtNumero_Nota_Fiscal.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtNumero_Nota_Fiscal.setEnabled(false);

        lblData_Emissao.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblData_Emissao.setText("Data Emissão");

        try {
            ftxtData_Emissao.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtData_Emissao.setText("");

        lblHora_Emissao.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblHora_Emissao.setText("Hora Emissão");

        try {
            ftxtHora_Emissao.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##:##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtHora_Emissao.setText("");

        javax.swing.GroupLayout jPanelDados_Nota_FiscalLayout = new javax.swing.GroupLayout(jPanelDados_Nota_Fiscal);
        jPanelDados_Nota_Fiscal.setLayout(jPanelDados_Nota_FiscalLayout);
        jPanelDados_Nota_FiscalLayout.setHorizontalGroup(
            jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelDados_Nota_FiscalLayout.createSequentialGroup()
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(txtSerie_Nota_Fiscal, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblSerie_Nota_Fiscal, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(27, 27, 27)
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblNumero_Nota_Fiscal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(txtNumero_Nota_Fiscal))
                .addGap(18, 18, 18)
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblData_Emissao)
                    .addComponent(ftxtData_Emissao, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblHora_Emissao)
                    .addComponent(ftxtHora_Emissao, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(20, Short.MAX_VALUE))
        );
        jPanelDados_Nota_FiscalLayout.setVerticalGroup(
            jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelDados_Nota_FiscalLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSerie_Nota_Fiscal)
                    .addComponent(lblNumero_Nota_Fiscal)
                    .addComponent(lblData_Emissao)
                    .addComponent(lblHora_Emissao))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelDados_Nota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSerie_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtNumero_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtData_Emissao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtHora_Emissao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(30, Short.MAX_VALUE))
        );

        jPanelSaida.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Saída/Entrada da Mercadoria", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Times New Roman", 3, 12))); // NOI18N

        lblData_Saida.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblData_Saida.setText("Data");

        try {
            ftxtData_Saida.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtData_Saida.setText("");

        lblHora_Saida.setFont(new java.awt.Font("Times New Roman", 1, 12)); // NOI18N
        lblHora_Saida.setText("Hora");

        try {
            ftxtHora_Saida.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##:##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        ftxtHora_Saida.setText("");
        ftxtHora_Saida.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ftxtHora_SaidaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelSaidaLayout = new javax.swing.GroupLayout(jPanelSaida);
        jPanelSaida.setLayout(jPanelSaidaLayout);
        jPanelSaidaLayout.setHorizontalGroup(
            jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelSaidaLayout.createSequentialGroup()
                .addGroup(jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblData_Saida)
                    .addComponent(ftxtData_Saida, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblHora_Saida)
                    .addComponent(ftxtHora_Saida, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(65, 65, 65))
        );
        jPanelSaidaLayout.setVerticalGroup(
            jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSaidaLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblData_Saida)
                    .addComponent(lblHora_Saida))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanelSaidaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(ftxtData_Saida, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ftxtHora_Saida, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanelNota_FiscalLayout = new javax.swing.GroupLayout(jPanelNota_Fiscal);
        jPanelNota_Fiscal.setLayout(jPanelNota_FiscalLayout);
        jPanelNota_FiscalLayout.setHorizontalGroup(
            jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNota_FiscalLayout.createSequentialGroup()
                .addGroup(jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanelNota_FiscalLayout.createSequentialGroup()
                        .addComponent(jPanelTipo_nota, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanelSaida, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addComponent(jPanelNatureza_da_Operacao, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanelNota_FiscalLayout.createSequentialGroup()
                        .addComponent(btnVoltar)
                        .addGap(76, 76, 76)
                        .addComponent(btnImprimir)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnGerar_NF)
                        .addGap(17, 17, 17))
                    .addComponent(jPanelDados_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanelDescricao_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, 756, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        jPanelNota_FiscalLayout.setVerticalGroup(
            jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNota_FiscalLayout.createSequentialGroup()
                .addComponent(jPanelDados_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanelTipo_nota, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanelSaida, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanelNatureza_da_Operacao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(btnVoltar, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanelNota_FiscalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btnImprimir, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addComponent(btnGerar_NF, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)))
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(jPanelNota_FiscalLayout.createSequentialGroup()
                .addComponent(jPanelDescricao_Nota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, 345, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(8, 8, 8))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jPanelNota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jPanelNota_Fiscal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void rbtnEntradaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rbtnEntradaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_rbtnEntradaActionPerformed

    private void btnVoltarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVoltarActionPerformed
        dispose();

    }//GEN-LAST:event_btnVoltarActionPerformed

    private void btnGerar_NFActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGerar_NFActionPerformed

        String TipoNota = "";
        if (rbtnSaida.isSelected()) {
            TipoNota = "Saida";
        } else {
            TipoNota = "Entrada";
        }
        txtNumero_Nota_Fiscal.setText(String.format("%09d", daoEmitirNF.getProximoCodigo()));
        nf = new NotaFiscal(Integer.parseInt(txtNumero_Nota_Fiscal.getText()), Integer.parseInt(txtSerie_Nota_Fiscal.getText()), recebePedido.getCodigo(), TipoNota, cbxCFOP.getSelectedItem().toString(), Float.parseFloat(txtValor_Total_Nota.getText().replace(",", ".")), ftxtData_Emissao.getText(), ftxtHora_Emissao.getText(), recebePedido.getCodigo());
        nf.setIPI(Float.parseFloat(txtValor_IPI.getText().replace(",", ".")));
        txtValor_ICMS.setText("" + Float.parseFloat(txtValor_Total_Nota.getText().replace(",", ".")) * (float) 0.18);
        txtBase_Calculo_ICMS.setText(txtValor_Total_Nota.getText().replace(",", "."));

        nf.setICMS(Float.parseFloat(txtValor_Total_Nota.getText().replace(",", ".")) * (float) 0.18);
        nf.setBaseICMS(Float.parseFloat(txtBase_Calculo_ICMS.getText().replace(",", ".")));
        nf.setNaturezaDaOperacao(lbl_Descricao_CFOP.getText());
        nf.setEndereco(txtRua_Remetente.getText() + ",N° " + txtNumero_Remetente.getText());
        nf.setBAIRRO(txtBairro_Remetente.getText());
        nf.setMUNICIPIO(txtCidade_Remetente.getText());
        nf.setTELEFONE(ftxtTelefone_Remetente.getText());
        nf.setUF(txtUF_Remetente.getText());
        nf.setCEP(ftxtCEP_Remetente.getText());
        nf.setInscricaoEstadual("123.456.789.123");
        nf.setCNPJ_CPF(lbl_documento.getText());
        nf.setPesoBruto(pesobruto);
        nf.setQuantidade(quantidadeProdutos);
        /*montando a chave de acesso
        *********************************************************
        35 código do estado,                                    *
        Ano de Emissao                                          *   
        Mes De Emissao                                          *
        CNPJ DA EMPRESA EMITENTE                                *
        55 MODELO DA NOTA FISCAL                                *
        Serie da Nota Fiscal                                    *
        Numero Sequencial da Nota Fiscal                        *
        Numero Randomico Gerado Pelo Sistema                    *
        *********************************************************
        Montando a Chave de Acesso da Nota Fiscal.
         */
        String chaveAcesso = "";
        for (int i = 0; i < 9; i++) {
            int x = (int) (Math.random() * 10);
            chaveAcesso = chaveAcesso + x;

        }

        chaveAcesso = ("35" + ftxtData_Emissao.getText().substring(8, 10) + "" + ftxtData_Emissao.getText().substring(3, 5) + "" + ftxtCNPJ_Emitente.getText().replaceAll("[-./]", "") + ""
                + "55" + txtSerie_Nota_Fiscal.getText() + "" + txtNumero_Nota_Fiscal.getText() + ""
                + chaveAcesso);

        System.out.println("CHAVE DE ACESSO : " + chaveAcesso);

        int fator11 = 2, somatoria = 0, DV = 0;
        for (int i = 42; i >= 0; i--) {
            if (fator11 > 9) {

                fator11 = 2;
            }
//            System.out.println(chaveAcesso.charAt(i) + "X" + fator11);
            somatoria = somatoria + ((int) (chaveAcesso.charAt(i)) * fator11);
            fator11++;
        }
//        System.out.println("Resto da Divisão = " + (somatoria % 11) );

        DV = 11 - (somatoria % 11);
        if (DV >= 10) {
            DV = 0;
        }
        nf.setChaveAcesso(chaveAcesso + DV);
        System.out.println(nf.getChaveAcesso());
        if (daoEmitirNF.inserir(nf)) {
            daoNotaFiscalItems.inserir(nfItens);
            daoGerarPedido.Faturar(recebePedido.getCodigo());
            JOptionPane.showMessageDialog(null, "Pedido Faturado e Nota Fiscal Emitida !!", "Parabéns", JOptionPane.INFORMATION_MESSAGE);
            btnImprimir.setEnabled(true);
            btnGerar_NF.setEnabled(false);
            //ESTE LAÇO É PARA REMOVER O PEDIDO DA GUI "PEDIDOS APROVADOS"
            for (int i = 0; i < tbl_pedidosAprovados.getRowCount(); i++) {

                if ((int) tbl_pedidosAprovados.getValueAt(i, 0) == recebePedido.getCodigo()) {
                    tbl_pedidosAprovados.removeRow(i);
                    break;
                }

            }
        } else {
            JOptionPane.showMessageDialog(null, "Falha na Geração da NFE.", "Erro Crítico", JOptionPane.ERROR_MESSAGE);
        }


    }//GEN-LAST:event_btnGerar_NFActionPerformed

    private void ftxtHora_SaidaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ftxtHora_SaidaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ftxtHora_SaidaActionPerformed

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened

        lbl_documento.setVisible(true);
        conexao = new Conexao();
        conexao.setDriver();
        conexao.setConnectionString();
        daoGerarPedido = new DaoGerarPedido(conexao.conectar());
        daoPJuridica = new DaoPJuridica(conexao.conectar());
        daoPFisica = new DaoPFisica(conexao.conectar());
        daoPedidoProduto = new DaoPedidoProduto(conexao.conectar());
        daoProduto = new DaoProduto(conexao.conectar());
        daoEmitirNF = new DaoEmitirNotaFiscal(conexao.conectar());
        daoNotaFiscalItems = new DaoNotaFiscalItens(conexao.conectar());
        btnImprimir.setEnabled(false);
        btnGerar_NF.setEnabled(true);

        Date data = new Date(System.currentTimeMillis());
        Calendar calendar = new GregorianCalendar();
        SimpleDateFormat formatarDate = new SimpleDateFormat("dd/MM/yyyy");

        txtNumero_Nota_Fiscal.setText(String.format("%09d", daoEmitirNF.getProximoCodigo()));
        ftxtData_Emissao.setText(formatarDate.format(data));
        ftxtData_Saida.setText(formatarDate.format(data));
        ftxtHora_Emissao.setText(String.format("%02d", calendar.get(Calendar.HOUR_OF_DAY)) + ":" + (String.format("%02d", calendar.get(Calendar.MINUTE))));
        ftxtHora_Saida.setText(String.format("%02d", calendar.get(Calendar.HOUR_OF_DAY)) + ":" + (String.format("%02d", calendar.get(Calendar.MINUTE))));
        nfItens = new NotaFiscalItens(Integer.parseInt(txtNumero_Nota_Fiscal.getText()));

        System.out.println("Horas = " + calendar.get(Calendar.HOUR_OF_DAY) + ":" + calendar.get(Calendar.MINUTE));

        ftxtData_Emissao.setText(recebePedido.getDtPedido().substring(0, recebePedido.getDtPedido().indexOf("-")).replace("/", ""));
        System.out.println(recebePedido.getDtPedido().substring(0, recebePedido.getDtPedido().indexOf("-")).replace("/", ""));
        System.out.println(recebePedido.getClienteCod().subSequence(0, 2));

        if (recebePedido.getClienteCod().substring(0, 2).equals("PF")) {

            pessoaFisica = daoPFisica.consultar(recebePedido.getClienteCod());
            txt_NomeDestinario.setText(pessoaFisica.getNome());
            ftxtTelefone_Remetente.setText(pessoaFisica.getTel());
            txtEmail_Remetente.setText(pessoaFisica.getEmail());
            txtCidade_Remetente.setText(pessoaFisica.getCidade());
            txtRua_Remetente.setText(pessoaFisica.getRua());
            txtNumero_Remetente.setText(pessoaFisica.getNumero());
            txtComplemento_Remetente.setText(pessoaFisica.getComplemento());
            txtBairro_Remetente.setText(pessoaFisica.getBairro());
            ftxtCEP_Remetente.setText(pessoaFisica.getCep());
            txtCidade_Remetente.setText(pessoaFisica.getCidade());
            txtUF_Remetente.setText(pessoaFisica.getUf());
            lbl_documento.setText(pessoaFisica.getCpf());
            System.out.println(lbl_documento.getText());

        } else {
            pessoaJuridica = daoPJuridica.consultar(recebePedido.getClienteCod());
            txt_NomeDestinario.setText(pessoaJuridica.getNome());
            ftxtTelefone_Remetente.setText(pessoaJuridica.getTel1());
            txtEmail_Remetente.setText(pessoaJuridica.getEmail());
            txtCidade_Remetente.setText(pessoaJuridica.getCidade());
            txtRua_Remetente.setText(pessoaJuridica.getRua());
            txtNumero_Remetente.setText(pessoaJuridica.getNumero());
            txtComplemento_Remetente.setText(pessoaJuridica.getComplemento());
            txtBairro_Remetente.setText(pessoaJuridica.getBairro());
            ftxtCEP_Remetente.setText(pessoaJuridica.getCep());
            txtCidade_Remetente.setText(pessoaJuridica.getCidade());
            txtUF_Remetente.setText(pessoaJuridica.getUf());
            lbl_documento.setText("" + pessoaJuridica.getCnpj());

        }
        ListaPedidoProduto = daoPedidoProduto.listarPedidoProduto(recebePedido.getCodigo());

        if (ListaPedidoProduto != null) {
            DefaultTableModel model = (DefaultTableModel) tblProduto.getModel();
            tblProduto.setBackground(Color.white);
            int linhasTabela = model.getRowCount();
            for (int i = 0; i < linhasTabela; i++) {
                model.removeRow(0);
            }
            pesobruto = 0;
            quantidadeProdutos = 0;
            for (int i = 0; i < ListaPedidoProduto.size(); i++) {

                produto = daoProduto.consultar(ListaPedidoProduto.get(i).getProdutoCod());
                nfItens.addProduto(produto);
                nfItens.addQtdProduto(ListaPedidoProduto.get(i).getProdutoQtd());
                Object[] row = {
                    ListaPedidoProduto.get(i).getProdutoCod(),
                    produto.getNome() + " - " + produto.getDescricao(),
                    formatarFloat.format(produto.getValorUnitario()),
                    ListaPedidoProduto.get(i).getProdutoQtd(),
                    formatarFloat.format(produto.getValorUnitario() * ListaPedidoProduto.get(i).getProdutoQtd()),
                    formatarFloat.format((produto.getValorUnitario() * ListaPedidoProduto.get(i).getProdutoQtd()) * produto.getImpostoIcms()),
                    formatarFloat.format((produto.getValorUnitario() * ListaPedidoProduto.get(i).getProdutoQtd()) * produto.getImpostoPis()),
                    formatarFloat.format((produto.getValorUnitario() * ListaPedidoProduto.get(i).getProdutoQtd()) * produto.getImpostoConfins()),
                    formatarFloat.format((produto.getValorUnitario() * ListaPedidoProduto.get(i).getProdutoQtd()) * produto.getImpostoIpi())
                };
                                        
                model.addRow(row);
                nfItens.getListaProdutos().get(i).setImpostoIpi(Float.parseFloat(model.getValueAt(i, 8).toString().replace(",", ".")));
                nfItens.getListaProdutos().get(i).setImpostoIcms(Float.parseFloat(model.getValueAt(i, 5).toString().replace(",", ".")));
                nfItens.getListaProdutos().get(i).setImpostoConfins(Float.parseFloat(model.getValueAt(i, 7).toString().replace(",", ".")));
                nfItens.getListaProdutos().get(i).setImpostoPis(Float.parseFloat(model.getValueAt(i, 6).toString().replace(",", ".")));

                pesobruto = pesobruto + (Float.parseFloat(produto.getDescricao().substring(7, produto.getDescricao().lastIndexOf("K"))) * ListaPedidoProduto.get(i).getProdutoQtd());
                quantidadeProdutos = quantidadeProdutos + ListaPedidoProduto.get(i).getProdutoQtd();
                //Preenchendo os TXT de Impostos

                txtValor_ICMS.setText("" + (Float.parseFloat(("" + model.getValueAt(i, 5)).replace(",", ".")) + Float.parseFloat(txtValor_ICMS.getText())));
                txtValor_PIS.setText("" + (Float.parseFloat(("" + model.getValueAt(i, 6)).replace(",", ".")) + Float.parseFloat(txtValor_PIS.getText())));
                txtValor_COFINS.setText("" + (Float.parseFloat(("" + model.getValueAt(i, 7)).replace(",", ".")) + Float.parseFloat(txtValor_COFINS.getText())));
                txtValor_IPI.setText("" + (Float.parseFloat(("" + model.getValueAt(i, 8)).replace(",", ".")) + Float.parseFloat(txtValor_IPI.getText())));
            }
            txtValor_IPI.setText(formatarFloat.format(Float.parseFloat(txtValor_IPI.getText())));
            txtValor_ICMS.setText(formatarFloat.format(Float.parseFloat(txtValor_ICMS.getText())));
            txtValor_PIS.setText(formatarFloat.format(Float.parseFloat(txtValor_PIS.getText())));
            txtValor_COFINS.setText(formatarFloat.format(Float.parseFloat(txtValor_COFINS.getText())));
            txtValor_Total_Nota.setText(formatarFloat.format(recebePedido.getTotal()
                    + Float.parseFloat(txtValor_IPI.getText().replace(",", "."))));
            txtBase_Calculo_ICMS.setText(txtValor_Total_Nota.getText());
            txtTotal_Produtos.setText(formatarFloat.format(recebePedido.getTotal()));

            txtTotal_Impostos.setText(formatarFloat.format(
                    Float.parseFloat(txtValor_COFINS.getText().replace(",", "."))
                    + Float.parseFloat(txtValor_ICMS.getText().replace(",", "."))
                    + Float.parseFloat(txtValor_IPI.getText().replace(",", "."))
                    + Float.parseFloat(txtValor_PIS.getText().replace(",", "."))));

        }


    }//GEN-LAST:event_formWindowOpened

    private void txtNumero_EmitenteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtNumero_EmitenteActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtNumero_EmitenteActionPerformed

    private void cbxCFOPItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cbxCFOPItemStateChanged

        switch (cbxCFOP.getSelectedIndex()) {
            case 0:
                lbl_Descricao_CFOP.setText("0 -> Venda de produção do estabelecimento.");
                break;
            case 1:
                lbl_Descricao_CFOP.setText("1 -> Venda de mercadoria adquirida ou recebida de terceiros.");
                break;
            case 2:
                lbl_Descricao_CFOP.setText("3 ->  Remessa em bonificação, doação ou brinde");
                break;
            case 3:
                lbl_Descricao_CFOP.setText("3 ->  Remessa de amostra grátis.");
                break;
            case 4:
                lbl_Descricao_CFOP.setText("4 -> Remessa de mercadoria ou bem para conserto ou reparo");
                break;
            case 5:
                lbl_Descricao_CFOP.setText("5 -> Outra saída de mercadoria ou prestação de serviço não especificado");

                break;
        }
    }//GEN-LAST:event_cbxCFOPItemStateChanged

    private void btnImprimirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnImprimirActionPerformed
        Map parameters = new HashMap();

        try {
            parameters.put("codigo", Integer.parseInt(txtNumero_Nota_Fiscal.getText()));
            parameters.put("codpedido", recebePedido.getCodigo());

            JasperPrint jpPrint1;
            jpPrint1 = JasperFillManager.fillReport("relatorios/newReport.jasper",
                    parameters, conexao.conectar());

            JasperViewer jv1 = new JasperViewer(jpPrint1, false);
            jv1.setVisible(true);

        } catch (JRException ex) {
            Logger.getLogger(GuiControle_Estratégico_por_Vendedor_Especifico.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btnImprimirActionPerformed

    private void txtValor_ICMSActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtValor_ICMSActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtValor_ICMSActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        String chaveAcesso = "";
        for (int i = 0; i < 9; i++) {
            int x = (int) (Math.random() * 10);
            chaveAcesso = chaveAcesso + x;

        }

        chaveAcesso = ("35" + ftxtData_Emissao.getText().substring(8, 10) + ftxtData_Emissao.getText().substring(3, 5) + ftxtCNPJ_Emitente.getText().replaceAll("[-./]", "")
                + "55" + txtSerie_Nota_Fiscal.getText() + txtNumero_Nota_Fiscal.getText()
                + chaveAcesso);

        System.out.println("CHAVE DE ACESSO : " + chaveAcesso);

        int fator11 = 2, somatoria = 0, DV = 0;
        for (int i = 42; i >= 0; i--) {
            if (fator11 > 9) {

                fator11 = 2;
            }
            System.out.println(chaveAcesso.charAt(i) + "X" + fator11);
            somatoria = somatoria + ((int) (chaveAcesso.charAt(i)) * fator11);
            fator11++;
        }
        System.out.println("Resto da Divisão = " + (somatoria % 11));

        DV = 11 - (somatoria % 11);
        if (DV >= 10) {
            DV = 0;
        }
        System.out.println("Digito Verificador = " + DV);

    }//GEN-LAST:event_jButton1ActionPerformed

    private void ftxtValor_FreteFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_ftxtValor_FreteFocusLost
        if (ftxtValor_Frete.getText().length() < 1) {
            ftxtValor_Frete.setText("0,00");
            txtValor_Total_Nota.setText(formatarFloat.format(recebePedido.getTotal()
                    + Float.parseFloat(ftxtValor_Frete.getText().replace(",", "."))
                    + Float.parseFloat(txtValor_IPI.getText().replace(",", "."))));
            txtBase_Calculo_ICMS.setText(txtValor_Total_Nota.getText());
        } else {
            try {

                if (Float.parseFloat(ftxtValor_Frete.getText().replace(",", ".")) < 0) {
                    JOptionPane.showMessageDialog(null, "Valor do Frete Negativo, por favor insira um número maior ou igual a 0.", "Erro", JOptionPane.ERROR_MESSAGE);
                    ftxtValor_Frete.setText("0,00");
                } else {
                    txtValor_Total_Nota.setText(formatarFloat.format(recebePedido.getTotal()
                            + Float.parseFloat(ftxtValor_Frete.getText().replace(",", "."))
                            + Float.parseFloat(txtValor_IPI.getText().replace(",", "."))));
                    txtBase_Calculo_ICMS.setText(txtValor_Total_Nota.getText());
                }

            } catch (NumberFormatException ex) {

                ftxtValor_Frete.setText("0,00");
                txtValor_Total_Nota.setText(formatarFloat.format(recebePedido.getTotal()
                        + Float.parseFloat(ftxtValor_Frete.getText().replace(",", "."))
                        + Float.parseFloat(txtValor_IPI.getText().replace(",", "."))));
                txtBase_Calculo_ICMS.setText(txtValor_Total_Nota.getText());
            }
        }
    }//GEN-LAST:event_ftxtValor_FreteFocusLost

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(GuiEmitir_nota_fiscal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(GuiEmitir_nota_fiscal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(GuiEmitir_nota_fiscal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(GuiEmitir_nota_fiscal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new GuiEmitir_nota_fiscal(recebePedido, login, tbl_pedidosAprovados).setVisible(true);
            }
        });
    }
    private static DefaultTableModel tbl_pedidosAprovados;
    private int quantidadeProdutos;
    private float pesobruto;
    private static Login login = null;
    private Conexao conexao;
    private DaoGerarPedido daoGerarPedido;
    private static Pedido recebePedido;
    private DaoPFisica daoPFisica;
    private DaoPJuridica daoPJuridica;
    private DaoPedidoProduto daoPedidoProduto;
    private PessoaFisica pessoaFisica;
    private Produto produto = null;
    private ArrayList<Produto> ListaProduto;
    private PessoaJuridica pessoaJuridica = null;
    private ArrayList<PedidoProduto> ListaPedidoProduto;
    private DaoProduto daoProduto;
    private DaoEmitirNotaFiscal daoEmitirNF;
    private NotaFiscal nf;
    private NotaFiscalItens nfItens = null;
    private DaoNotaFiscalItens daoNotaFiscalItems;
    private NumberFormat formatarFloat = new DecimalFormat("0.00");
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnGerar_NF;
    private javax.swing.JButton btnImprimir;
    private javax.swing.JButton btnVoltar;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JComboBox<String> cbxCFOP;
    private javax.swing.JComboBox<String> cbxEmpresa_Emitente;
    private javax.swing.JFormattedTextField ftxtCEP_Emitente;
    private javax.swing.JFormattedTextField ftxtCEP_Remetente;
    private javax.swing.JFormattedTextField ftxtCNPJ_Emitente;
    private javax.swing.JFormattedTextField ftxtData_Emissao;
    private javax.swing.JFormattedTextField ftxtData_Saida;
    private javax.swing.JFormattedTextField ftxtHora_Emissao;
    private javax.swing.JFormattedTextField ftxtHora_Saida;
    private javax.swing.JFormattedTextField ftxtTelefone_Remetente;
    private javax.swing.JFormattedTextField ftxtValor_Frete;
    private javax.swing.JButton jButton1;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JComboBox<String> jComboBox2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanelDados_Emitente;
    private javax.swing.JPanel jPanelDados_Nota_Fiscal;
    private javax.swing.JPanel jPanelDados_Remetente;
    private javax.swing.JTabbedPane jPanelDescricao_Nota_Fiscal;
    private javax.swing.JPanel jPanelEndereco_Emitente;
    private javax.swing.JPanel jPanelEndereco_Remetente;
    private javax.swing.JPanel jPanelNatureza_da_Operacao;
    private javax.swing.JPanel jPanelNota_Fiscal;
    private javax.swing.JPanel jPanelProdutos;
    private javax.swing.JPanel jPanelRemetente;
    private javax.swing.JPanel jPanelSaida;
    private javax.swing.JPanel jPanelTipo_nota;
    private javax.swing.JPanel jPanelTransportadora;
    private javax.swing.JScrollPane jScrollPaneProduto;
    private javax.swing.JLabel lblBairro_Emitente;
    private javax.swing.JLabel lblBairro_Remetente;
    private javax.swing.JLabel lblBase_Calculo_ICMS;
    private javax.swing.JLabel lblCEP_Emitente;
    private javax.swing.JLabel lblCEP_Remetente;
    private javax.swing.JLabel lblCFOP;
    private javax.swing.JLabel lblCNPJ_Emitente;
    private javax.swing.JLabel lblCidade_Emitente;
    private javax.swing.JLabel lblCidade_Remetente;
    private javax.swing.JLabel lblComplemento_Emitente;
    private javax.swing.JLabel lblComplemento_Remetente;
    private javax.swing.JLabel lblData_Emissao;
    private javax.swing.JLabel lblData_Saida;
    private javax.swing.JLabel lblEmail_Remetente;
    private javax.swing.JLabel lblEmpresa;
    private javax.swing.JLabel lblEmpresa_Emitente;
    private javax.swing.JLabel lblHora_Emissao;
    private javax.swing.JLabel lblHora_Saida;
    private javax.swing.JLabel lblLogo;
    private javax.swing.JLabel lblNome_Fantasia_Remetente;
    private javax.swing.JLabel lblNumero_Emitente;
    private javax.swing.JLabel lblNumero_Nota_Fiscal;
    private javax.swing.JLabel lblNumero_Remetente;
    private javax.swing.JLabel lblRua_Emitente;
    private javax.swing.JLabel lblRua_Remetente;
    private javax.swing.JLabel lblSerie_Nota_Fiscal;
    private javax.swing.JLabel lblTelefone_Remetente;
    private javax.swing.JLabel lblTotal_Produtos;
    private javax.swing.JLabel lblTotal_Produtos1;
    private javax.swing.JLabel lblTotal_desc_Produto;
    private javax.swing.JLabel lblUF_Emitente;
    private javax.swing.JLabel lblUF_Remetente;
    private javax.swing.JLabel lblValor_COFINS;
    private javax.swing.JLabel lblValor_ICMS;
    private javax.swing.JLabel lblValor_IPI;
    private javax.swing.JLabel lblValor_PIS;
    private javax.swing.JLabel lblValor_Total_Nota;
    private javax.swing.JLabel lbl_Descricao_CFOP;
    private javax.swing.JLabel lbl_documento;
    private javax.swing.JRadioButton rbtnEntrada;
    private javax.swing.JRadioButton rbtnSaida;
    private javax.swing.JTable tblProduto;
    private javax.swing.JTextField txtBairro_Emitente;
    private javax.swing.JTextField txtBairro_Remetente;
    private javax.swing.JTextField txtBase_Calculo_ICMS;
    private javax.swing.JTextField txtCidade_Emitente;
    private javax.swing.JTextField txtCidade_Remetente;
    private javax.swing.JTextField txtComplemento_Emitente;
    private javax.swing.JTextField txtComplemento_Remetente;
    private javax.swing.JTextField txtEmail_Remetente;
    private javax.swing.JTextField txtNumero_Emitente;
    private javax.swing.JTextField txtNumero_Nota_Fiscal;
    private javax.swing.JTextField txtNumero_Remetente;
    private javax.swing.JTextField txtRua_Emitente;
    private javax.swing.JTextField txtRua_Remetente;
    private javax.swing.JTextField txtSerie_Nota_Fiscal;
    private javax.swing.JTextField txtTotal_Desc_Produto;
    private javax.swing.JTextField txtTotal_Impostos;
    private javax.swing.JTextField txtTotal_Produtos;
    private javax.swing.JTextField txtUF_Emitente;
    private javax.swing.JTextField txtUF_Remetente;
    private javax.swing.JTextField txtValor_COFINS;
    private javax.swing.JTextField txtValor_ICMS;
    private javax.swing.JTextField txtValor_IPI;
    private javax.swing.JTextField txtValor_PIS;
    private javax.swing.JTextField txtValor_Total_Nota;
    private javax.swing.JTextField txt_NomeDestinario;
    // End of variables declaration//GEN-END:variables
}
